<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Chat demo</title>
	<style>
		html {
  			position: relative;
  			min-height: 100%;
		}
		body {
			font-family: 'Open Sans', sans-serif;
			color: black;
			font-size: 16px;
			margin: 0 auto 60px;
			padding: 0;
			margin-bottom: 150px;
			/*background: linear-gradient(-45deg, #183850 0, #183850 25%, #192C46 50%, #22254C 75%, #22254C 100%) no-repeat;*/
  			/*background-repeat: no-repeat;*/
  			/*background-attachment: fixed;*/
		}
		* {
			box-sizing: border-box;
		}
		#header {
			color: #183850;
			text-align: center;
		}
		h1 {
			font-size: 2em;
			text-transform: uppercase;
		}
		h6 {
			font-weight: normal;
			margin: 0;
		}
		.container {
			margin: 0 auto;
			max-width: 648px;
			padding: 10px;
		}
		#chathistory {
			line-height: 1.5em;
			overflow: hidden;
			word-wrap: break-word;
		}
		.author, .username {
			font-weight: bold;
		}
		#messageform {
			border-bottom: 30px solid white;
			position: fixed;
			bottom: 0;
			padding: 0;
			width: 100%;
		}
		#messageform .container { 
			background: #d7d7d7;
		}
		input, button { 
			font-family: inherit;
		    font-size: 1em;
		    border: none;
		    border-bottom: solid #aba0a0 3px;
		    border-radius: 3px;
		    outline: none;
		    resize: none;
			padding: 10px;
		    margin: 5px 0;
		    /*display: inline-block;*/
		}
		input#username, button#sendmessage {
			/*vertical-align: top;*/
			width: 40%;
			box-sizing: border-box;
		}
		input#message {
			width: 100%;
		}
		button#sendmessage {
			color: white;
			background: #716666;
			cursor: pointer;
    		float: right;
		    border-top: solid transparent 3px;
		}
		button#sendmessage:hover {
			background: #968989;
		}
		button#sendmessage:active {
 			border-top-color: #5d5050;
 			border-bottom-color: #968989;
		}
		li {
			list-style-type: none;
		}
	</style>
</head>
<body>

	<section id="header"><h1>Chat demo</h1><h6>by Барабанов А.</h6></section>
	<div class="container">
		<div id="chathistory">
			<ul>
				<li>
					<span class="author">UAnderson</span>:
					Are we meeting today?
					<time datetime="23-01-17" title="23 января 2017 в 4:11"/>
				</li>
				<li>
					<span class="author">William</span>:
					yes, what time suits you?
				</li>
				<li>
					<span class="author">UAnderson</span>:
					yes, what time suits you?
				</li>
			</ul>
		</div>
	</div>

	<div id="messageform">
		<div class="container">
			<input id="message" autocomplete="off" placeholder ="текст сообщения" rows="2" autofocus ></input>
			<input id="username" type="text" placeholder ="имя"/>
		  	<button id="sendmessage" type="submit">Отправить</button>
		</div>
	</div>


	<script>
		// (function () {alert("iefe")})();

		function sendMessage() {
			var username = document.getElementById("username");
			var message = document.getElementById("message");
			if(message.value == '' || message.value == '\n' || username.value == '') {
				throw(err);
			}
			//alert(username + " is about to send message: " + message);
			var chatHistory = document.querySelector("#chathistory ul");
			var li = document.createElement("li");
			li.innerHTML = '<span class="username">'+ username.value +'</span>: '+ message.value;
			chatHistory.appendChild(li);
			message.value = '';
		}

		document.getElementById("sendmessage").addEventListener("click", sendMessage);
		document.getElementById("message").addEventListener("keyup", function(event) {
		    event.preventDefault();
		   	if (event.keyCode == 13)
		       	document.getElementById("sendmessage").click();
		});
		document.getElementById("username").addEventListener("keyup", function(event) {
		    event.preventDefault();
		   	if (event.keyCode == 13)
		       	document.getElementById("sendmessage").click();
		});

  	</script>
</body>
</html>